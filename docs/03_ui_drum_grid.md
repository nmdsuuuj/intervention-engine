# 03. UI仕様書：ドラム・グリッド・シーケンサー

## 1. 概要 (Overview)
`[Drums]` トラック専用の編集画面。「ゼロから打ち込む」のではなく、「プリセット・パターンを修正する」ワークフローを基本とする。

## 2. 基本ワークフロー
1.  `[ コード生成 ]` 時、小節には自動で**「基本パターン（例：8ビート）」がプリセット**として打ち込まれている。
2.  ユーザーの作業は「修正」か「パターンの貼り付け」から始まる。

## 3. 編集機能 (Editing Features)

### 1. ベロシティの簡略化
* **仕様:** ノートの音量は、0〜127ではなく、**「弱・中・強」の3段階**（または5段階）のシンプルな切り替えとする。

### 2. パターン・ペースト
* **UI:** `[フィルイン貼り付け]` `[8ビート貼り付け]` などのボタンを（`[ MUTATE ]` ボタンの提案リスト内に）設置。
* **動作:** ユーザーが特定の小節（例：4小節目）を選択し `[ MUTATE ]` → `[フィルイン貼り付け]` を押すと、その小節が即座にプリセットの「フィルイン」パターンに置き換わる。

### 3. グルーヴ編集
* **トラック毎:** `[Drums]` トラックの `[Groove]` ボタン（`docs/05`参照）で、トラック全体のグルーヴを「J Dilla風」などに一括変更できる。
* **小節毎:** `docs/02` の `[ MUTATE ]` ボタンのワークフローに基づき、特定の小節だけグルーヴを変更できる。

### 4. カット / コピー / ペースト
* `docs/04` のピアノロール仕様に準じ、確実な「選択 → コピー → 貼り付け」操作を実装する。
