# 02. 介入UI/UX仕様書

## 1. 概要 (Overview)
「介入エンジン（Artist Brain）」がUIを通じて、どのようにユーザーの作曲プロセスに「介入」するかを定義する。

## 2. Artist Hint (アーティスト・ヒント)
* **トリガー:** ユーザーが「平凡」な操作（例: 4/4拍子で8小節ループ）を続けると、「？」アイコンが点灯。
* **表示:** アイコンをタップすると、「レノンならここで7/8拍子（`elasticBar_removeBeat`）にする」といった「介入提案」がポップアップ表示される。

## 3. [ MUTATE (介入) ] ボタン (ワークフローの核)
* **UI:** 「トラック・ビュー」（`docs/08`）の左親指エリア（COLUMN_1）に**常設**される、最も重要なボタン。
* **ワークフロー:**
    1.  ユーザーが「アレンジ・ビュー」または「トラック・ビュー」で、**介入対象の「小節」または「ノート」を選択**する。
    2.  `[ MUTATE ]` ボタンを押す。
    3.  **「介入エンジン」が起動**し、`models/` データベースを参照する。
    4.  **ポップアップで「複数の価値観」が提案される。**
        * **例：対象が「ベース」の「4小節目」の場合**
        * **▼ グルーヴの介入 (docs/05)**
        * `[ 提案A (J Dilla) ]`: この小節だけ「ヨレた」グルーヴに変更
        * **▼ 奏法の介入 (docs/06)**
        * `[ 提案B (ポール風フィル) ]`: `art_mccartney_fill_01` を適用
        * **▼ コード/パターンの介入**
        * `[ 提案C (ジョン・レノン) ]`: "Walrus" 風の `bIII` を暗示するベース
    5.  ユーザーは「試聴」し、気に入った提案を「決定」する。
    6.  **結果:** 選択したデータが**恒久的に書き換わる**。
    7.  **安全装置:** この「介入」は**必ず`Undo`スタックに積まれる**。
